<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.playscent.db.UserMapper">

	<!-- 네이버 로그인 유저정보 저장할 매퍼 sql -->
	<insert id="joinMember" parameterType="NaverUserInfo">
<<<<<<< HEAD
		<!-- insert into MEMBER_INFO values(#{email}, #{pw}, #{tel}, #{address}) 
			sql수정해야함. -->
=======
	   insert into MEMBER_INFO values(#{id},#{name},#{age},#{email},#{mobile},#{gender}, sysdate,'bronze',#{profile_image})  
>>>>>>> branch 'main' of https://github.com/2023-SMHRD-KDT-AI-16/PLAY_SCENT.git
	</insert>
	
    <!-- 네이버 id가 저자되어 잇는지 검사 -->
	<select id="idCheck" parameterType="String" resultType="boolean">
		select case when count(*)>0 then 1 else 0 end result
		from MEMBER_INFO where id=#{user_id}
	</select>


<!--리뷰 매퍼  -->

	<insert id="sendReview"
		parameterType="com.playscent.model.ReveiwDTO">

		<!-- insert into REVIEW_INFO
		values(num_message.nextval,"123","testtest@naver.com",#{contents},sysdate,#{rate}) -->
		
		insert into REVIEW_INFO values(REVIEW_INFO_SEQ.NEXTVAL,'23','Ef-8R3fBQ9V7oNLNfOv7gHjUqXb9k7pn6QkITa77XvE',#{REVIEW_CONTENT},sysdate,#{REVIEW_STAR})
		
		

	</insert>


	<select id="showReview" parameterType="String"
		resultType="com.playscent.model.ReveiwDTO">

		select * from REVIEW_INFO

	</select>
	
	<delete id="deleteReview">
	delete from REVIEW_INFO where REVIEW_IDX = #{REVIEW_IDX}
</delete>

<delete id="deleteReviewAll" parameterType="String" >
delete from REVIEW_INFO where MEM_ID=#{MEM_ID}
</delete>



</mapper>